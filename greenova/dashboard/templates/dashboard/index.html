{% extends "dashboard/layouts/dashboard_base.html" %}
{% load static %}
{% load dashboard_tags %}
{% load core_tags %}
{% block title %}
  Dashboard - Greenova EMS
{% endblock title %}
{% block content %}
  <main class="dashboard-main">
    <div class="container">
      <!-- Welcome Section -->
      <section class="welcome-section">
        <h1>Welcome, {% firstof user.first_name user.username %}</h1>
        <p class="welcome-text">
          Welcome to Enveng Groups ECMS where we make managing and tracking complex environmental commitments and obligations a whole lot easier for you.
        </p>
      </section>
      <!-- Project Buttons -->
      <section class="project-buttons">
        <h2>Please click to go to the project you want to view</h2>
        <nav>
          <ul role="list">
            <li>
              <a href="{% url 'dashboard:pcemp' %}"
                 class="outline"
                 role="button"
                 hx-boost="true"
                 hx-push-url="true"
                 hx-indicator="#loading">Portside CEMP</a>
            </li>
            <li>
              <a href="{% url 'dashboard:ms1180' %}"
                 class="outline"
                 role="button"
                 hx-boost="true"
                 hx-push-url="true"
                 hx-indicator="#loading">MS1180</a>
            </li>
            <li>
              <a href="{% url 'dashboard:wa6946' %}"
                 class="outline"
                 role="button"
                 hx-boost="true"
                 hx-push-url="true"
                 hx-indicator="#loading">WA6946</a>
            </li>
          </ul>
        </nav>
      </section>
    </div>
  </main>
{% endblock content %}
{% block page_scripts %}
  <script>
    // Add any page-specific JavaScript here
    document.addEventListener('htmx:afterRequest', function(evt) {
        if (evt.detail.elt.id === 'dashboard-stats') {
            console.log('Dashboard stats refreshed');
        }
    });
  </script>
{% endblock page_scripts %}
