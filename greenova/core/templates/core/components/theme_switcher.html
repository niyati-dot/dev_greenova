<div class="theme-switcher">
  <ul class="theme-container">
    {% for theme_name, theme_value in theme_options %}
      <li>
        <a href="#"
           data-theme-switcher="{{ theme_value }}"
           _="on click set $theme to '{{ theme_value }}' then if '{{ theme_value }}' != 'auto' set document.documentElement.dataset.theme to '{{ theme_value }}' else if window.matchMedia('(prefers-color-scheme: dark)').matches set document.documentElement.dataset.theme to 'dark' else set document.documentElement.dataset.theme to 'light' end then localStorage.setItem('theme', $theme) then call event.preventDefault()">
          {{ theme_name }}
        </a>
      </li>
    {% endfor %}
  </ul>
</div>
